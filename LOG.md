# NEDB - Project Logging

![avatar](https://badgen.net/badge/Language/C++11/orange)
![stars](https://badgen.net/badge/Dev%20Env./Linux/green)

## Task List
#### UP TO **`2022.4.16`**
- [x] 基本表结构
- [x] 终端控制
- [x] 命令解析器
- [x] 命令执行器
- [x] B+Tree
- [x] 数据表创建
- [x] 数据插入
- [x] 数据查找
- [x] 数据修改
- [x] 数据删除
- [ ] ~~非主键索引~~
- [x] 文件存取
- [x] 异常
- [x] 外部接口

---
#### 2022.4.16
- 修复 **`NEexception`** 错误导致数组越界

---
#### 2022.4.2
- 添加 **`NEDB`** 类, 统一接口与终端实现主要形式, 避免过多全局变量和全局函数
- 添加 **`NEdb`** 结构体, 用于库文件入口头文件
- 修改外部接口为基于结构体的类面向对象形式(NEdb db('dir'), db.open()...)
- 添加接口/终端设置自由度, 用户能够方便的改变数据表目录和页字节大小
- 修复B+树节点定位BUG
- 修复 **`delete`** 指令因删除整页导致页指针错位问题

---
#### 2022.3.31
- 实现全局异常处理
- 实现外部接口 (nedb_open, nedb_auto_start, nedb_exec, nedb_close)
- 完成移除数据表指令 **`drop`**
- 完成静态链接库创建 **`libne.a`**
- 添加列出所有数据表名称指令 **`select tables`**
- 增加 **`Analyzer`** 类主键范围字段 **`key_range[2]`** 和匹配停止标识 **`stop_flag`** ,优化匹配逻辑, 减少主键索引比较次数

---
#### 2022.3.30
- 完成数据修改指令 **`update`**
- 增加 **`Analyzer`** 类实现多条件解析与匹配功能
- 基于 **`Analyzer`** 类实现指令多条件格式 (where cond_1 and cond_2 ...)
- 基于 **`Analyzer`** 类实现条件符号 **`=`** , **`<`** , **`>`** 支持
- 优化 **`Data`** 模块代码逻辑与清晰度
- 增加文件目录自动判别创建功能
- 解决 **`fopen`** 打开失败程序直接退出的问题
- 更改操作命令为严格小写

---
#### 2022.3.29
- 完成数据删除指令 **`delete`**
- B+树删除时孩子节点错位BUG修复
- 修改文件存储格式，数据写入页最大值设置在数据文件 **`.ned`** 中
- 删除空页数组，添加空页链表，并在数据表载入时随主键B+树共同进行初始化

---
#### 2022.3.28
- 完成数据查找指令 **`select`**
- 更新操作文档
- 数据插入Bug修复

---
#### 2022.3.27
- 完成表结构文件及数据文件读写
- 完成数据插入指令 **`insert`**

---
#### 2022.3.22
- 确定**NEDB**数据类型 **`int`**, **`int64`**, **`real`**, **`text`**, **`longtext`**
- 完成动态索引类 **`Index`** 构建, 详见 **`Index.h`** | **`Index.cpp`** 
   
---
#### 2022.3.20
- 完成B+树模板构建, 详见  **`BalanceTree.h`**
- 测试B+树节点插入 & 删除
- 测试叶结点指针

---

#### --过于久远--

---